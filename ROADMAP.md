# Roadmap

MediaArchiver v2 の開発ロードマップです。

---

## ✅ 完了済み (Completed)

### Phase 0: 再構築準備
- [x] v1の問題点分析（点滅問題、設計の不透明さ）
- [x] 流用可能なロジック資産の特定
- [x] 再構築方針の決定

### Phase 1: プロジェクト基盤構築
- [x] ドキュメント整備 (ARCHITECTURE, CONVENTIONS, Glossary)
- [x] Vite + Electron + TypeScript プロジェクト初期化
- [x] Zustand ストア基本設計
- [x] SQLite データベーススキーマ設計
- [x] IPC通信基盤の構築

### Phase 2: コア機能実装
- [x] Phase 2-1: フォルダスキャン機能
- [x] Phase 2-2: ファイル操作系 (openExternal, showInExplorer)
- [x] Phase 2-3: UI連携 (Sidebar, FileGrid, FileCard, TanStack Virtual)
- [x] Phase 2-4: サムネイル生成 (FFmpeg/Sharp)

### Phase 3: UI機能拡張
- [x] Phase 3-1: サイドバー開閉機構
- [x] Phase 3-2: フォルダ右クリックメニュー（削除、再スキャン）
- [x] Phase 3-3: ファイルソート機能
- [x] Phase 3-4: LightBox（クイックプレビュー）
- [x] Phase 3-5: ファイルコンテキストメニュー

### Phase 4: アーカイブ対応
- [x] 書庫ファイル処理（v1からarchiveHandler移植）
- [x] 書庫内プレビュー

### Phase 5: 機能拡張
- [x] Phase 5-1: タグ管理システム（CRUD、フィルターパネル、管理モーダル）
- [x] Phase 5-2: タグフィルタリング（AND/OR モード）
- [x] Phase 5-3: 検索機能（ファイル名部分一致、デバウンス）
- [x] Phase 5-4: 設定画面（サムネイルサイズ、音量、ホバー動作）

### Phase 6: プロファイル・高度な機能
- [x] プロファイル切り替え（DB分割方式）
- [x] サムネイルホバー動作（scrub/play 実装）

### Phase 7: ブラッシュアップ
- [x] 7-1: キーボードショートカット（矢印キー、Ctrl/Shift選択、Space、Delete）
- [x] 7-2: パフォーマンス最適化
  - スキャン進捗表示（ScanProgressBar、統計、キャンセル機能）
  - パフォーマンスモード設定（ホバーアニメーション制御）
  - 起動時自動スキャン設定
  - 書庫サムネイル改善（タイムアウト、エラー判定、フォールバック）
- [x] 7-3: アニメーション・マイクロインタラクション

---

## 🚧 進行中 (In Progress)

(なし)

---

## 📋 予定 (Planned)

### Phase 8: UI/UX改善（基本）
- [ ] 8-1: タグ表示の改善
  - タグの省略表示とスライド展開
  - タグカテゴリ別の色分け強化
- [ ] 8-2: ファイルカード表示のカスタマイズ
  - カードサイズ・レイアウト可変設定
  - 表示内容のカスタマイズ（メタデータ表示項目選択）
- [ ] 8-3: フォルダビュー拡張
  - フォルダカード表示
  - フォルダサムネイル（代表画像）
  - **ドライブ別グループ表示**（サイドバー階層化）

### Phase 9: 統計・分析機能
- [ ] 9-1: カテゴリ別統計表示
  - タグ別ファイル数
  - ファイルタイプ別統計
  - ストレージ使用量
- [ ] 9-2: ダッシュボード
  - 各種情報の集約表示
  - 最近追加されたファイル
  - よく使うタグ
  - **全フォルダ統合表示**（「すべてのファイル」ビュー）
- [ ] 9-3: アクティビティログ
  - ファイル追加・削除履歴
  - タグ付け履歴

### Phase 10: プレビュー機能強化
- [ ] スクラブモード時のシークバー表示（現在位置の可視化）
- [ ] 動画プレビューの再生速度調整
- [ ] 画像比較モード（2枚並べて表示）

---

## 🔮 将来構想 (Backlog)

### 高度な機能（Phase 11以降）
- スマートプレイリスト（条件に基づく動的リスト）
- 自動整理（ルールベースのファイル移動・リネーム）
- プラグイン機構
- クラウド同期
- AI活用（自動タグ付け、類似画像検索）
