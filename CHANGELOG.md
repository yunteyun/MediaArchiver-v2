# CHANGELOG

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/).

> 古い履歴（文字化けを含む旧版保管）は `CHANGELOG_legacy.md` を参照してください。

---

## [Unreleased]
### Changed
#### Lightbox / 書庫プレビュー
- 画像ライトボックスを旧構造非参照のクリーン実装へ置き換え、表示と操作の調整を独立して進められる構成に変更。
- クリーン実装のライトボックスで動画/音声/書庫の表示を再開し、画像以外も同じ操作導線（閉じる・前後移動・背景クリック）で扱えるよう改善。
- クリーン実装の情報パネルで評価・タグ・メモの編集を再開し、画像/動画/音声/書庫で同じ編集導線を利用できるよう改善。
- クリーン実装の情報パネルで評価入力を星クリック方式へ統一し、一覧右パネルと同じ操作感で編集できるよう改善。
- クリーン実装の情報パネルでタグ編集に共通タグピッカーを適用し、追加/削除の操作導線を他UIと統一。
- クリーン実装の情報パネルにファイル名の大きな表示とクリック編集を追加し、ファイルパス/相対フォルダ/解像度などの詳細情報を強化。
- クリーン実装の情報パネルの表示順を再調整し、ファイル名の直下に評価/タグ/メモを配置して編集導線を優先した。
- クリーン実装の書庫表示を拡大表示なしのシンプルな6枚プレビューグリッドへ整理し、画像表示に近い見た目で内容を確認できるよう改善。
- クリーン実装の書庫プレビューでサムネイルクリック時の単独表示を追加し、一覧グリッドを崩さずに1枚ずつ内容確認できるよう改善。
- クリーン実装の書庫プレビュー6枚グリッドの表示領域を拡大し、画像表示に対して小さく見えやすい問題を調整。
- クリーン実装の書庫プレビュー6枚グリッドで各セルのサイズと背景を統一し、縦長/横長画像が混在しても一覧として見比べやすい表示へ調整。
- クリーン実装の書庫プレビュー6枚グリッドを全体表示優先から一覧性優先へ切り替え、各セル内をトリミング表示して内容を掴みやすく調整。
- クリーン実装の書庫プレビュー単独表示に前後フレーム送りを追加し、グリッドへ戻らず続けて内容確認できるよう改善。
- クリーン実装のライトボックス前後ボタンを下部固定からメディア左右中央へ移し、画像/動画/書庫で切り替え対象を直感的に把握しやすい配置へ調整。
- クリーン実装のライトボックス前後ボタンをメディア枠の外側へ寄せ、書庫プレビューや画像表示に被りにくい配置へ再調整。
- クリーン実装のライトボックス前後ボタンを固定ガター内へ再配置し、横長画像でボタンが見切れる問題を防ぎつつプレビュー被りを抑えるよう調整。
- クリーン実装のライトボックスで背景クリック判定を再調整し、ボタン用ガターを確保したままメディア外クリックで閉じやすい範囲を復元。
- クリーン実装のライトボックスをワイヤーフレーム準拠の2エリア構造へ整理し、情報エリアを `ファイル名 / タグ / 評価 / メモ / ファイル情報` のみに絞って `×` と前後ナビを独立レイヤーへ固定した。
- 全画面ライトボックスをやめ、中央カラム内だけでメディア表示と `×` / 前後移動を完結させる新しいビューアへ切り替えを開始し、右サイドバーが表示中ファイルの情報を追従できるよう調整した。
- 中央カラム内ビューアの構造を半透明背景・メディア表示・固定操作ボタンの3要素に絞り、情報パネルや外枠を持たないシンプルな表示へ整理した。
- 中央カラム内ビューアで大きい画像の表示余白を広げ、上下左右が画面端まで詰まりすぎないよう調整した。
- 中央カラム内ビューアで縦方向の余白をさらに広げ、横長画像の上下が詰まって見えにくいよう調整した。
- 中央カラム内ビューアで画像外の背景クリックによる終了操作を復帰し、余白部分をクリックすると前の画面へ戻れるよう修正した。
- 中央カラム内ビューアで横方向の余白を広げ、横長画像が左右いっぱいまで拡大されすぎないよう調整した。
- 中央カラム内ビューア表示中は右サイドバーの書庫プレビューを隠し、中央でメディア表示・右で情報表示という役割分担へ整理した。
- 設定画面にライトボックス背景濃度のスライダーを追加し、オーバーレイの暗さを即時調整できるよう改善。
- 書庫プレビューフレームの Lightbox 取得数とキャッシュ生成目標数を `12` から `6` に調整（サンプリング方式は維持）。
- Lightbox（書庫プレビュー）で書庫名や再取得などの補助表示を外し、プレビュー画像だけを並べるシンプルな表示へ整理。
- Lightbox の `×` / `Esc` / 背景クリックを段階動作に調整（書庫プレビュー単独表示中は一覧へ戻り、一覧時は Lightbox を閉じる）。
- Lightbox の閉じる/戻るボタン表示を共通オーバーレイへ寄せ、画像/動画/書庫でボタン位置と操作感を揃えた。
- Lightbox 情報パネルに大きめのファイル名表示を追加し、書庫プレビュー操作時の識別性を改善。
- 右サイドバー / Lightbox のタグバッジ表示でカテゴリ色が反映されるよう改善（カテゴリ色返却 + タグ色解決）。
- 画像付き音声書庫の Lightbox で、画像グリッド側の背景パネルが不自然に見えやすい問題を調整し、混合表示時は音声リスト側と馴染む背景/余白バランスに改善。
- 画像付き音声書庫の Lightbox で、プレビュー枚数が少ない時に画像エリアが不必要に広がりすぎる見た目を調整し、画像単独表示から戻った際に書庫内音声プレイヤーの音量が 100% に戻る不具合を修正。
- 画像付き音声書庫の Lightbox で画像単独表示へ切り替えても、書庫内音声の再生状態（再生/停止・再生位置）を引き継いで継続できるよう改善。
#### 右サイドバー / 情報表示
- 右サイドバーの基本情報に `ファイルパス` と `登録フォルダ基準の相対フォルダパス` を追加し、保存場所の確認をしやすくした。
- 右サイドバーの表示順を `ファイル名 / 評価・タグ / メモ / プレビュー / 基本情報` に組み替え、単体でも編集と確認を進めやすい構成へ整理した。
- 右サイドバーのプレビューを最上段へ戻し、メモは概要だけ見える折りたたみ式にして必要時だけ編集欄を開けるよう調整した。
- 右サイドバーのメモ欄が自動保存で閉じ直される問題を修正し、テキスト入力で右クリックのコピー・貼り付けなども使えるようにした。
- 右サイドバーの閉じたメモ要約を複数行表示に変更し、開く前でも内容を把握しやすくした。
- 右サイドバーの動画プレビューに `音声ON/OFF` と `ループ/長め` の切替を追加し、中央ビューア表示中は右パネル側の再生を停止するよう調整した。
- 右サイドバー動画プレビューの `長め` を FileCard と同じ固定間隔ジャンプ方式へ揃え、一覧と右パネルで内容確認の感覚がズレにくいよう調整した。
- 右サイドバー動画プレビューの表記を `固定間隔` に整理し、ジャンプ間隔も設定画面から変更できるようにした。
- 設定画面のサムネイルタブで、サムネイルホバー設定と右サイドバー動画プレビュー設定を別ブロックに分け、混同しにくい表示へ整理した。
- サムネイルホバーの `再生` 詳細設定も同じ枠内へ移し、動画プレビュー関連の設定をひとまとまりで見渡せるよう整理した。
- 右サイドバーの動画基本情報で `再生時間` を常時表示へ上げ、動画を選んだ直後に長さを把握しやすくした。
- 右サイドバーの追加情報を `詳細情報` と `技術情報` の2グループに分け、動画ではコーデックやFPSなどをまとまりで確認しやすくした。
- 動画/音声のスキャン時に ffprobe メタデータも保存するようにし、既存ファイルの再スキャンでも右サイドバーの技術情報を表示できるよう改善した。
- 右サイドバーの動画技術情報で ffprobe の候補一覧をそのまま出さず、コンテナは代表的な形式名 1 つへ整形して見やすくした。
- 右サイドバーの書庫情報も基本情報・詳細情報・技術情報で整理し、画像数や音声数など内容把握に必要な情報を段階的に確認しやすくした。
- 右サイドバーの基本情報を常時表示と折りたたみ追加情報に分け、作成日・解像度・相対フォルダを常に確認しつつ、更新日時や技術情報は必要時だけ開けるよう改善した。
- 右サイドバーの音声基本情報でも再生時間を常時表示に上げ、折りたたみ側は更新日時・パス情報・音声向け技術情報を中心に確認しやすくした。
- 右サイドバーの幅を広げ、動画でも既存のプレビューフレームを 2x2 グリッドで確認できるようにして、書庫と同じ感覚で場面を見比べやすくした。
- 右サイドバー幅は `280px` に戻しつつ、動画フレームをクリックした時はその場面に近い再生位置から中央ビューアを開けるようにした。
- 右サイドバー上段プレビューの固定高さをやめ、メディア比率に応じて高さがある程度変わる表示にして黒帯が目立ちにくいよう調整した。
- 右サイドバーの動画プレビュー操作ボタンはホバー時のみ表示に切り替え、動画フレームグリッドは縦動画も見比べやすい正方形セル表示へ調整した。
- 右サイドバーの動画フレームは正方形セルを維持しつつ、中央トリミングを強くしすぎないよう `contain` ベースの表示へ再調整した。
- 右サイドバー上段プレビューは固定高さに戻し、余白はぼかし背景で馴染ませる形にして、表示切替時の縦位置ズレを抑えつつ黒帯感を軽減した。
#### 左サイドバー / フォルダツリー
- 左サイドバーのフォルダツリー表示を拡張し、登録フォルダ直下だけでなく、登録済みファイルのパスから子フォルダ/孫フォルダを仮想ノードとして生成してツリー表示できるようにした（未登録の子孫フォルダも選択可能）。
- フォルダツリーの選択挙動を調整し、仮想フォルダ（直下/再帰）選択時のハイライト表示と、子フォルダを持つ登録フォルダ選択時の色反転が正しく反映されるようにした。
- フォルダツリーの表示バランスを調整し、ドライブ配下の親フォルダを1段下げて表示、初期状態では子フォルダ以降を閉じる構成に変更した（ドライブ/フォルダの開閉状態は保存）。
- フォルダツリーにツリー内検索（名前/パス部分一致）を追加し、祖先ノードを残した絞り込み表示と検索結果件数表示を追加した。
- フォルダツリーにドライブ/フォルダごとの配下ファイル数（再帰件数）バッジを追加し、階層ごとのボリュームを把握しやすくした。
#### FileCard / 表示モード
- 右サイドバー表示中に `標準（M）` と `標準（L）` のカード幅差が潰れやすい問題を調整し、列数が同じでも各モードの基準幅が維持されるようにした。
- `標準（M/L）` などで右端に余り幅が溜まりやすい表示を調整し、`標準（S/簡易）` 以外は行全体を中央寄せして余白の偏りを抑えた。
- FileCard 表示モード定義を `src/components/fileCard/displayModes.ts` に分離し、`FileGrid` / `SortMenu` と共有する構成へ整理。
- FileCard の情報欄を `FileCardInfoArea` / `FileCardInfoCompact` / `FileCardInfoDetailed` に分離し、モード別UI調整の保守性を改善。
- 表示モードラベルとメニュー構成を整理（`標準（S/簡易）` / `標準（M）` / `標準（L）` / `動画（ワイド）` / `漫画`）。
- 漫画モードの表示バランスを調整（`2:3` 維持、`cardWidth=210` 採用、漫画モード専用の情報欄余白配分を追加）。
- 標準（M/L）FileCard の情報欄バランスを調整（情報欄高さの微増、メタ行の行間調整、タグ行の下寄せ、サイズバッジとタグの整列感改善）。
- 標準（M/L）と漫画モードの詳細情報欄を同型化し、2段目を `サイズ / 作成日 / フォルダ名` のバッジ列、下段をタグ要約（右寄せ）に整理。
- 標準（M/L）と漫画モードのタグ要約バッジを再調整（チップ高さ・幅上限・表示文字量の拡張、漫画は件数/幅をやや控えめに設定）。
- 標準（M/L）/ 漫画モードの情報欄高さを再調整（`80 / 80 / 76`）し、バッジ化後の詰まりを回避。
- 動画（ワイド）モードの詳細情報欄も同型レイアウトへ寄せ、2段目バッジ列化と情報欄高さ調整（`70 -> 76`）でファイル名が潰れやすい問題を改善。
- FileCard の詳細情報欄リファクタを段階的に整理し、モード別UI設定（`getDetailedInfoUiConfig` / `getTagSummaryUiConfig`）、2段目バッジ列/下段行の小分け、タグ要約描画・受け渡し（`TagSummaryRenderer`）の責務分離を進めた（見た目変更なし）。
- サムネイルホバー動作に `自動パラパラ` モードを追加し、動画プレビューフレームを hover 中に自動送りで表示できるようにした（`スクラブ` のプリロード経路と進捗バー表示を共通化）。
- `自動パラパラ` の速度設定（`遅い / 標準 / 速い`）を追加し、プレビューフレーム枚数に応じた見え方を調整しやすくした。
- 一覧のアニメーション画像（GIF / アニメーションWebP）にホバープレビューを追加し、ホバー時のみ元ファイルを表示して再生できるようにした（設定で `オフ / ホバーで再生` 切替、パフォーマンスモード時は無効）。
- アニメ画像プレビュー設定を `オフ / ホバーで再生 / 表示中に自動再生` に拡張し、可視時自動再生では `IntersectionObserver` を用いた可視判定と同時再生数上限（2件）を追加。
- アニメ画像判定に APNG（PNG の `acTL` chunk）検出を追加し、既存のアニメ画像プレビュー（一覧ホバー / 可視時自動再生 / 右サイドバープレビュー）で APNG も対象になるようにした。
- 既存PNGファイル（未変更で再スキャン時にスキップされるファイル）でも APNG 判定を一度バックフィルできるよう、スキャナの早期スキップ条件を調整し、判定済みマーカーを画像メタデータへ保存するようにした。
#### グループ表示 / パフォーマンス
- グループ表示モード描画最適化の着手として、`groupFiles()` のグループ配列構築で配列コピーを避ける軽量化を実施し、開発時のみ `FileGrid` にグループ化/描画入力の計測ログ（`console.debug`）を追加。
- `FileCard` のタグ要約表示でカードごとの `getFileTags()` IPC 呼び出しをやめ、`useFileStore.fileTagsCache` と `useTagStore` から解決する構成へ変更して、グループ表示時の大量同時IPC負荷を削減。
- グループ表示モードの描画を `ヘッダー行 + ファイル行` の仮想行へ平坦化して仮想化し、大量ファイル時の初回スクロールで `FileCard` を一気に描画しない構成へ変更（グループヘッダーは非sticky表示）。
- グループ表示モード（仮想化）の上部に、現在表示中グループを示す擬似ヘッダー（sticky 1枚）を追加し、従来の見出し追従に近い視認性を復元。
- 擬似ヘッダーに次グループ到達時の押し出し演出（`translateY`）を追加し、従来の sticky ヘッダーに近い切替感を低負荷で再現。
#### プロファイル / スキャン設定
- 各プロファイルDBに `profile_settings` テーブル（`profile_scoped_settings_v1`）を追加し、プロファイル別設定の保存基盤を実装（初回対象: `対応形式カテゴリON/OFF` / `プレビューフレーム数`）。
- `profileSettings:get/set/replace` IPC と preload / renderer API を追加し、起動時・プロファイル切替時にアクティブプロファイルの設定を読み込んで UI とスキャナ実行時設定へ同期するよう改善。
- 設定画面のサムネイルタブに「プロファイル別スキャン設定」を追加し、`動画 / 画像 / 書庫 / 音声` のカテゴリON/OFFと `プレビューフレーム数` を現在プロファイル単位で保存できるようにした（`thumbnailResolution` / `scanThrottleMs` は全体設定のまま維持）。
- プロファイル別設定導入時の初回移行フローを追加し、既存のプレビューフレーム数を引き継ぐか既定値で開始するかを選べる簡易ダイアログを表示するようにした。
- 設定画面に `スキャン` タブを追加し、`対応形式（カテゴリON/OFF）` をサムネイル設定から分離。`プレビューフレーム数` はサムネイルタブに残しつつ、プロファイル別設定である旨の文言を明確化。
- プロファイル別設定対象を拡張し、`サムネイル解像度`（サムネイルタブ）と `スキャン速度調整`（スキャンタブ）も現在プロファイル単位で保存・切替されるようにした。
- 登録フォルダごとのスキャン設定を追加し、`起動時スキャン` / `起動中新規ファイルスキャン` / `対応形式（動画・画像・書庫・音声）` をフォルダ単位で保存できるようにした。
- 起動時自動スキャンの対象を「フォルダ別設定で `起動時スキャン` が ON のフォルダ」のみに整理し、設定画面の全体 `起動時に自動スキャン` トグルは廃止してフォルダ別設定へ集約した。
- フォルダ変更監視による新規/更新検知スキャン（MVP）を追加し、フォルダ別設定で `起動中新規ファイルスキャン` が ON のフォルダのみ監視するようにした（デバウンス後に再スキャン）。
- フォルダ別スキャン設定の管理UIを拡張し、フォルダ登録時の設定確認モーダル、フォルダ別設定モーダル、一覧管理モーダル（検索フィルタ / 一括操作 / 最終スキャン時刻・状態表示）を追加した。
#### コンテキストメニュー / 別モードで開く
- ファイルコンテキストメニューに `別のモードで開く` 基盤を追加し、初回として書庫（音声入り）に `音声書庫として開く` を実装。DBの型は変更せず、Lightbox を音声優先表示で開けるようにした。
- `別のモードで開く` に `画像書庫として開く` を追加し、音声付き書庫でも画像グリッド優先（音声リスト非表示）で開けるようにした。
#### タグ表示 / タグ管理
- FileCard の要約タグ表示でカテゴリ偏りを抑える選択ロジックを追加し、少数表示時にカテゴリの見え方バランスを改善（未分類タグは後順位）。
- タグ管理モーダルのタグ管理タブをレイアウト整理（右ペインの情報区分・余白・一覧カード化）。「表示優先順位の基準」は常設表示をやめて情報ボタンのポップアップへ移し、タグ順のルール説明を必要時のみ確認できる構成に整理。
- タグ管理モーダルのタグ一覧でドラッグ並び替えを追加し、表示優先順を直感的に調整できるよう改善（カテゴリは従来どおりドラッグ順）。
- タグ管理モーダルのアイコン名入力に候補補完（datalist）とクイック選択を追加し、タグアイコン設定を行いやすく改善。
- 左サイドバーのタグ検索フィルターと、右サイドバー/Lightbox の `TagSelector` 選択済みタグ表示をカテゴリ順・タグ順ベースで安定表示するよう調整（表示優先順の反映範囲を拡大）。
- FileCard の要約タグ表示でカテゴリ順（カテゴリ表示順）を基準にした並びを反映し、長いタグ名はチップ内で省略表示してレイアウト崩れを抑制。
- 設定画面に「ファイルカード要約タグの並び」オプションを追加し、`カテゴリ分散` / `厳密順（カテゴリ順→タグ順）` を切り替え可能にした。
#### バックアップ / インポート・エクスポート
- 設定画面のバックアップタブに一覧エクスポート（`CSV` / `HTML`）を追加し、`プロファイル全体` / `現在選択フォルダ全体` を選んで保存ダイアログ経由で出力できる MVP を実装（CSV は UTF-8 BOM付き、HTML は簡易テーブル、タグ色を含む）。
- 設定画面のバックアップタブに「このアプリ形式CSV」のインポート（タグ復元・追記型）を追加し、CSV選択→Dry Run（一致件数/未一致/新規タグ作成予定）→適用の流れで `path` キーによりタグを復元できるようにした。
- エクスポート欄に「インポート対応はCSVのみ（HTMLは閲覧用）」の注記を追加し、CSVインポート欄を旧アプリ互換モード（Shift_JIS / 可変列）にも対応。旧CSVは `コメント１` をメモへ追記し、末尾の追加列をタグ/星評価候補として解釈するルールを採用。Dry Run で一致/未一致・タグ付与予定・評価更新予定・メモ追記予定を確認でき、適用時はタグ追記に加えて星評価を総合評価軸へ取り込めるようにした。
#### ドキュメント / 開発運用
- `docs/dev/回帰確認チェックリスト.md` を追加し、表示モード（標準 S/M/L・漫画・動画）中心の最低限の回帰確認観点を整理。
- Electron 起動ログにビルド識別情報（`version / runtime(dev|release) / exe更新時刻 / Electron/Chrome/Node 版`）を出力する `build marker` を追加。
- 開発版/リリース版でアイコンを分離する設定を追加（開発版は `BrowserWindow` アイコン、リリース版は `electron-builder` の Windows アイコン設定）。
- `README.md` / `docs/user/アプリ使用メモ.md` の更新手順とリリース手順を整理し、`update.bat` 更新後の最小確認項目・失敗時の簡易切り分けを追記。
#### ログ / エラー表示
- 設定画面のログタブに「表示中をコピー」操作と共有案内を追加し、非エンジニア向けの問い合わせ時にログ共有しやすく改善。
- ログ読み込み失敗時の案内を詳細化し、`ログなし` と `フィルター結果なし` を区別して表示するように調整。

### Fixed
#### 配布 / 更新運用
- `update.bat` の ZIP更新処理を修正し、`robocopy` 宛先パスの末尾バックスラッシュによる引数解釈崩れと、エラー表示文の括弧未エスケープで更新後に `". was unexpected at this time."` が出る問題を改善（`update.bat` 自己上書きも回避）。
#### サムネイル保存管理 / 互換
- サムネイル cleanup 診断の旧保存構造フォールバック時に、全プロファイルDB参照を集約してプロファイル跨ぎ誤検出を抑制。
- 孤立サムネイル診断/削除で、書庫プレビュー固定キャッシュ（`archive-preview`）を孤立判定対象から除外。
- 保存場所切替時の `thumbnail_path` / `preview_frames` パス更新判定を `instr()` ベースに調整（JSON配列/カンマ区切り形式差に配慮）。
- `media://` で `thumbnails` 配下の古い絶対パスを参照した場合、現在の保存先（`getBasePath()`）配下へフォールバック解決するよう改善（移行後の表示復旧性向上）。
- フォルダカード代表サムネイル取得で、古い `thumbnail_path` による `404` を避けるため、各フォルダ内で実在するサムネイル候補を優先採用するよう改善。
#### 表示モード / レイアウト
- 表示モード切替直後に発生するグリッドの一時レイアウト崩れを抑えるため、仮想行サイズの再計測を追加。
- `FileCard` の aspect-ratio 描画化に伴い、`動画（ワイド）` / `標準（S/簡易）` の `aspectRatio` 定義不整合で情報欄が崩れる問題を修正。
#### スキャン / プロファイル設定
- プロファイル別の対応形式をOFFにした後の再スキャンで、無効カテゴリの既存DB登録が残り続ける問題を修正し、`db.deleteFile()` 経由で関連サムネイル/プレビューを含めて整理するようにした（物理ファイル本体は削除しない）。
#### インポート反映
- CSVインポートで星評価を取り込んだ直後に星評価フィルターへ反映されない場合がある問題に対して、インポート完了後に評価キャッシュ（`useRatingStore`）を再読込するよう修正。

---

## [1.1.3d5] - 2026-02-22
### Changed
- サムネイル保存管理の整理を進め、主要生成系（画像 / 動画 / 音声 / 書庫 / 動画プレビュー）を新しい保存構造へ統一。
- 書庫サムネイルを WebP 変換して保存するように変更（失敗時は元形式へフォールバック）。
- 書庫プレビューフレームを WebP 化し、`thumbnails/profiles/<profile>/archive-preview` 配下へ保存するように変更。
- 書庫プレビューフレームを固定キャッシュ化し、右サイドバー（4枚）/ Lightbox（12枚）で再利用するよう改善。
- WebP 品質値を内部プリセット化（`image / video / archive / previewFrame` を分離）。
- 書庫プレビューフレームの最終設定を `384px` / `previewFrame=40` に調整（Lightbox 表示と容量のバランス）。
- `AGENTS.md` を追加し、Windows + PowerShell の UTF-8 / 文字化け対策ルールを明文化。

### Fixed
- 書庫サムネイル生成の安定性改善（初回スキャン失敗、`EXDEV`、`ENOENT`、同名衝突、フォールバック経路）。
- 開発版で `7za.exe` を見つけられず書庫プレビュー/サムネイルが生成できない問題（パス解決の見直し）。
- 統計画面のサムネイル容量表示が新旧保存構造の切替中に `0` になりやすい問題（旧構造フォールバック）。
- サムネイル cleanup / 削除処理で `preview_frames` の形式差（JSON配列 / カンマ区切り）により取りこぼす問題。
- タグ管理モーダルで UI が消える問題（Portal 化 + Hook 順序エラー修正）。

---

## [1.1.3] - 2026-02-21
### Changed
- タグ UI の操作性を改善（TagSelector / TagManagerModal 周辺）。
- 各種リリース調整（並び順・表示まわり）。

### Fixed
- リリース版で `7za.exe` の参照に失敗する問題。
- `mode=install` 周辺の DB / 保存先まわりの不整合。
- パッケージング後の実行で発生する不具合の修正（`afterPack` 周辺）。

---

## [1.1.2] - 2026-02-19
### Note
- この版以前の詳細履歴は `CHANGELOG_legacy.md` を参照してください（旧ファイルに文字化けを含みます）。

---

## [1.1.0] - 2026-02-18
### Note
- 初期の詳細履歴は `CHANGELOG_legacy.md` を参照してください。
