# アプリ使用メモ

## このファイルの役割
- ユーザー向けの使い方、操作手順、更新手順を書く
- 不具合調査メモや設計検討は別ファイルに分ける（`docs/dev/不具合・要望リスト.md` / `docs/dev/思考メモ.md`）

## 書き方ルール（簡易）
- 手順は上から順に実行できる形で書く
- 更新後は「解決済み / 注意点」を追記する

---


# update.bat の使い方（忘れた時用）
1. 新しいリリースZIPをダウンロードする
2. アプリを置いているフォルダを開く
3. 同じフォルダにある `update.bat` をダブルクリックする
4. ZIP選択ダイアログが出たら、ダウンロードしたZIPを選ぶ
5. 自動で「アプリ終了 → 上書き更新 → 再起動」される
6. 再起動後、ヘッダーのバージョン表示と通常操作を確認する

## 注意
- `update.bat` は `MediaArchiver v2.exe` と同じフォルダで実行する
- 更新中はアプリを手動で操作しない
- 失敗したら、もう一度 `update.bat` を実行する（ZIPを選び直す）
- 2026-02-25 修正版では、ZIP更新後に起きることがあった `". was unexpected at this time."` エラーを修正済み

## 更新後の最小確認（おすすめ）
- アプリが起動する
- ヘッダーのバージョン表示が想定どおり
- フォルダ一覧が表示される
- ファイル一覧が表示される（サムネイルが1件でも出る）
- ログに起動時エラーが大量に出ていない

## 失敗時の切り分け（簡易）
- ZIP選択直後に失敗: ZIPファイル破損 / 展開権限 / パス問題を疑う
- 更新完了後に起動しない: ウイルス対策ソフトの隔離・ロックを疑う
- 旧版のままに見える: 別フォルダのアプリを起動していないか確認する
- 何度も失敗する: 新しいZIPを再ダウンロードして再実行する


## 動作確認メモ（抜粋）
- 書庫ファイルのサムネイル表示: OK（開発版で確認）
- 統計のサムネイル容量表示: OK
- 保存場所切替後のサムネイル診断 / cleanup: OK（旧保存構造フォールバック含む）
- `update.bat` ZIP更新（擬似更新テスト）: OK（`2026-02-25`、上書き更新 + 再起動処理到達）
