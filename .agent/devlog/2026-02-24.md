# 開発日記 (2026-02-24)

## 今日の概要
- FileCard（標準 M/L）の情報欄表示バランスを微調整
- `ROADMAP.md` / `CHANGELOG.md` / `README.md` / `docs/INDEX.md` の役割整理と記述整合を実施
- 次の着手候補（タグカテゴリ表示優先順位強化 / エクスポート）を ROADMAP に明記

## 実装・調整した内容（UI）
- 標準（M/L）の `infoAreaHeight` を微増（`70 -> 74`）
- FileCard 詳細情報欄のメタ行行間を調整（標準のみ `leading-snug`）
- 標準（M/L）のタグ行を `mt-auto` で下寄せして情報欄内の重心を調整
- 標準（M/L）のサイズバッジをタグ寄りのチップ寸法に近づけ、整列感を改善

## ドキュメント整理
- `ROADMAP.md`
  - 進行中セクションを「未完了 / 継続中のみ」に整理
  - 完了済みの詳細列挙を「最近完了した主な項目（要約）」へ圧縮
  - 直近リリース対象で、書庫サムネイル再検証を完了済みとして反映
  - ドキュメント整理 / changelog追記 / devlog記録の完了チェックを反映
  - 次の着手候補（タグカテゴリ表示優先順位強化 → エクスポート）を追記
- `CHANGELOG.md`
  - `Unreleased` に標準（M/L）FileCard 情報欄バランス調整を追記
- `README.md` / `docs/INDEX.md`
  - `ROADMAP.md` は未完了中心、`CHANGELOG.md` は完了済み変更の詳細、という役割境界を明文化

## 所感・判断メモ
- FileCard の違和感は数値調整だけでなく、初期実装由来の構造差（モード別レイアウト差分）が原因になっている可能性が高い
- 今後の機能追加を見据えると、`FileCardInfoDetailed` 起点の段階的再設計は有効
- ただし優先度高の未着手項目（タグカテゴリ表示優先順位強化 / エクスポート）を先に進める方針を維持

## 次回の候補
- タグカテゴリ表示優先順位強化（カテゴリごとの表示バランス改善）
- エクスポート（HTML/CSV）の要件整理（出力項目・フォーマット・文字コード）
- FileCard 再設計メモの具体化（実装前の責務分割案）

## 追記（同日）
- タグカテゴリ表示優先順位強化を完了扱いに整理し、関連UI/ドキュメントをコミット
- バックアップタブに一覧エクスポート（CSV/HTML）を実装
  - 対象選択: `プロファイル全体` / `現在選択フォルダ全体`
  - CSVはUTF-8 BOM付き、HTMLは簡易テーブル（タグ色チップ付き）
  - エクスポート欄に「インポート対応はCSVのみ（HTMLは閲覧用）」注記を追加
- CSVインポート（このアプリ形式）を実装
  - `path` キー照合、タグ復元（追記型）、Dry Run（一致/未一致/新規タグ）
- 旧アプリCSV互換インポートを追加
  - Shift_JIS/CP932 読み込み
  - 可変列からタグと星評価（`★〜★★★★★`）を抽出
  - 星評価は総合評価軸（または先頭軸）へ適用
- インポート後に星評価フィルターへ即反映されない問題を修正
  - `useRatingStore.loadAllFileRatings()` をインポート完了後に実行
