# implementation_plan.md

## 概要
- 対象フェーズ:
- 対象機能:
- 目的:
  - なぜこの実装が必要か
  - ユーザー体験として何が変わるか

---

## 前提条件（必須）
- 本実装は **AGENT.md に完全準拠** する
- 既存挙動を変更しない（後方互換性維持）
- UIの再描画・hover・scroll挙動に影響を与えないこと
- パフォーマンス改善・リファクタリングは行わない

---

## 実装スコープ

### やること（Do）
- 
- 
- 

### やらないこと（Do Not）
- 既存UI構造の変更
- state管理方式の変更
- 共通コンポーネントの改修
- AGENT.md に記載のない最適化

---

## UI仕様

### 対象画面
- 

### 操作フロー
1. ユーザーが〇〇を操作
2. 〇〇が表示される
3. 状態は〇〇のみ更新される

### UI制約（重要）
- hover時に state を更新しない
- mouseenter / mouseleave で再描画を発生させない
- useEffect に UIイベントを依存させない
- 条件付きレンダリングは最小限にする

---

## 状態管理

### 使用するstate
- 
- 

### 禁止事項
- グローバルstateの新設
- 既存stateの意味変更
- 非同期処理を伴うstate更新

---

## 非同期処理 / IPC / FS

### 使用有無
- 非同期処理: なし / あり（理由）
- IPC通信: なし / あり（チャンネル名）
- ファイル操作: なし / あり（read / write）

### 制約
- Promise.all は使用しない
- 並列処理は最大1件
- 書き込み処理は必ず確認ステップを挟む

---

## 影響範囲

### 変更されるファイル
- 
- 

### 変更されないことが保証されるもの
- 
- 

---

## リスクと対策

### 想定リスク
- 
- 

### 回避策
- 
- 

---

## 実装停止条件（AGENT.md 準拠）
以下に該当した場合、**即時実装を停止しユーザーに確認すること**

- 既存ファイルの変更が50行を超える
- 新規ファイルが5つを超える
- 仕様判断が3回以上必要になった
- UI挙動に不確実性が生じた

---

## AI作業分担

### Sonnet が担当
- 実装計画策定
- 設計判断
- リスク評価

### Gemini に切り出す場合
- 対象ファイル:
- 実装内容:
- 判断禁止事項:
  - UI設計
  - state設計
  - 非同期構造の変更

---

## 完了条件
- 既存機能に影響がない
- UIの点滅・再描画が発生しない
- AGENT.md 違反がない
- ユーザー確認なしでの仕様追加がない
